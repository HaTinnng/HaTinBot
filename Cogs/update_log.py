import discord
from discord.ext import commands

# ì—…ë°ì´íŠ¸ ë‚´ì—­ ì €ì¥ (ê°œë°œìê°€ ì§ì ‘ ìˆ˜ì •)
UPDATE_LOGS = [
    {
        "date": "2025-02-04",
        "details": [
            "**ëª…ë ¹ì–´ ë³€ë™ì‚¬í•­**",
            "**ì¶”ê°€ì‚¬í•­**",
            "âœ… `#ì¢…ëª©ì†Œê°œ` ì¶”ê°€: (ì£¼ì‹ì˜ ì‹œì‘ê°€ê²©ë²”ìœ„, ì£¼ì‹ì£¼ì— ëŒ€í•œ ì„¤ëª… ì¶”ê°€)",
            "âœ… `#ì£¼ì‹ë„ì›€ë§` ì¶”ê°€: (ì£¼ì‹ì— í•„ìš”í•œ ì„¤ëª…ê³¼ ëª…ë ¹ì–´ë¥¼ ì •ë¦¬í•œ ë¬¸ì„œ ì œê³µ)",
            "âœ… `#ì—…ë°ì´íŠ¸` ëª…ë ¹ì–´ ì¶”ê°€: (ì—…ë°ì´íŠ¸ ë‚ ì§œì™€ ë‚´ì—­ í™•ì¸ ê°€ëŠ¥)",

            "**ìˆ˜ì •ì‚¬í•­**",
            "âœ… `#ë„ì›€ë§` ì—…ë°ì´íŠ¸: (ë´‡ì´ ë°œë‹¬í•˜ë©´ì„œ ë„ì›€ë§ì´ ë¯¸í¡í–ˆë˜ ë¶€ë¶„ì„ ìˆ˜ì •)",

            "**ì£¼ì‹ ë³€ë™ì‚¬í•­**",
            "**ì£¼ì‹ì¢…ëª©**",
            "`311ìœ í†µ`ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì‹œì‘ê°€ê²© ì¡°ì • (ë” ì„¸ë¶„í™”í•˜ì—¬ ì§€ë£¨í•œ ìƒí™© í•´ê²°)",

            "**ëª…ë ¹ì–´**",
            "`ì£¼ì‹êµ¬ë§¤`, `ì£¼ì‹íŒë§¤` ì‹œ `all/ì „ë¶€/ì˜¬ì¸/ë‹¤` ì…ë ¥ ì‹œ ì „ì²´ ë§¤ìˆ˜/ë§¤ë„ ê°€ëŠ¥",
            "`í”„ë¡œí•„` ëª…ë ¹ì–´ì— `ìì‚°`, `ìë³¸` ì¶”ê°€",
            "`ë³€ë™ë‚´ì—­` ëª…ë ¹ì–´ë¡œ ìµœê·¼ 5ê°œ ì£¼ê°€ ë³€ë™ ë‚´ì—­ í™•ì¸ ê°€ëŠ¥",
            "`ë§¤ìˆ˜`, `ë§¤ë„` ëª…ë ¹ì–´ ì¶”ê°€ (êµ¬ë§¤/íŒë§¤ì™€ ë™ì¼)",

            "**ì£¼ì‹ ë¡œì§ ë³€ê²½**",
            "ê¸°ì´ˆìë³¸ ì¦ê°€: 50ë§Œ â†’ 80ë§Œ",
            "ì£¼ì‹ ë³€ë™í­ ì¦ê°€: Â±12.3% ~ Â±23.78%",
            "ì£¼ì‹ ê±°ë˜ ì‹œê°„ ë³€ê²½: ë§¤ì›” 1ì¼ 00:10 ì¢…ë£Œ â†’ 3ì¼ 00:10 ì‹œì‘",
            "ì£¼ì‹ì´ 50ì› ì´í•˜ì¼ ê²½ìš° ë³€ë™í­ ì œí•œ í•´ì œ (Â±100%)",
            "MongoDB ì—°ë™ìœ¼ë¡œ ë°ì´í„° ìœ ì§€",

            "**ê¸°íƒ€**",
            "ê°ì¢… ë²„ê·¸ ìˆ˜ì • ë° ìµœì í™”",

            "**í˜„ì¬ ê°œë°œ ì‚¬í•­ (ì˜ˆì •)**",
            "ğŸ“Œ ë¸”ë™ì­ ë©€í‹° ê¸°ëŠ¥ ì¶”ê°€",
            "ğŸ“Œ ì´ˆëŠ¥ë ¥ ëª©ë¡ ì¶”ê°€",
            "ğŸ“Œ ë½‘ê¸° í™•ë¥  ëª…ë ¹ì–´ ì¶”ê°€",
            "ğŸ“Œ ë½‘ê¸° 1ë“±, 2ë“± ê¸°ë¡ ì €ì¥ ì¶”ê°€",
            "âœ¨ ê³¼ì ë¨¹ëŠ” ì¤‘..."
        ]
    },
]

class UpdateLog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command(name="ì—…ë°ì´íŠ¸", aliases=["ì—…ë°ì´íŠ¸ë‚´ì—­", "íŒ¨ì¹˜ë…¸íŠ¸"])
    async def update_log(self, ctx):
        """
        #ì—…ë°ì´íŠ¸: ìµœê·¼ ì—…ë°ì´íŠ¸ ë‚´ì—­ì„ í™•ì¸í•©ë‹ˆë‹¤.
        """

        for log in UPDATE_LOGS[:3]:  # ìµœê·¼ 3ê°œì˜ ì—…ë°ì´íŠ¸ë§Œ í‘œì‹œ
            details_list = log["details"]
            update_date = log["date"]

            embed = discord.Embed(
                title=f"ğŸ“¢ ì—…ë°ì´íŠ¸ ë‚´ì—­ - {update_date}",
                description="ìµœê·¼ ì—…ë°ì´íŠ¸ëœ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”!",
                color=discord.Color.green()
            )

            # Discord ì„ë² ë“œì˜ í•„ë“œ ê¸¸ì´ ì œí•œ(1024ì)ì„ ê³ ë ¤í•˜ì—¬ ë‚˜ëˆ„ì–´ ì¶”ê°€
            details_chunk = ""
            for detail in details_list:
                if len(details_chunk) + len(detail) > 1000:
                    embed.add_field(name="ğŸ”¹ ì—…ë°ì´íŠ¸ ë‚´ìš©", value=details_chunk, inline=False)
                    details_chunk = ""
                details_chunk += f"{detail}\n"

            if details_chunk:
                embed.add_field(name="ğŸ”¹ ì—…ë°ì´íŠ¸ ë‚´ìš©", value=details_chunk, inline=False)

            embed.set_footer(text="ğŸ”„ ìµœì‹  ì—…ë°ì´íŠ¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”!")

            await ctx.send(embed=embed)

async def setup(bot):
    await bot.add_cog(UpdateLog(bot))
